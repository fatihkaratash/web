@model FitMindAI.ViewModels.Appointment.AppointmentDetailsViewModel
@{
    ViewData["Title"] = "Randevu Onayı";
}

<div class="container mt-4">
    <h2>Randevu Onayı</h2>
    <hr />

    <div class="card">
        <div class="card-header bg-primary text-white">
            <h4 class="mb-0">Randevu Detayları</h4>
        </div>
        <div class="card-body">
            <div class="row mb-3">
                <div class="col-md-6">
                    <h5>Antrenör Bilgileri</h5>
                    <p class="mb-1"><strong>Ad Soyad:</strong> @Model.TrainerName</p>
                    <p class="mb-1"><strong>Salon:</strong> @Model.GymName</p>
                    @if (!string.IsNullOrEmpty(Model.GymAddress))
                    {
                        <p class="mb-0"><strong>Adres:</strong> @Model.GymAddress</p>
                    }
                </div>
                <div class="col-md-6">
                    <h5>Servis Bilgileri</h5>
                    <p class="mb-1"><strong>Servis:</strong> @Model.ServiceName</p>
                    @if (!string.IsNullOrEmpty(Model.ServiceDescription))
                    {
                        <p class="mb-1"><strong>Açıklama:</strong> @Model.ServiceDescription</p>
                    }
                    <p class="mb-1"><strong>Süre:</strong> @Model.ServiceDuration dakika</p>
                    <p class="mb-0"><strong>Fiyat:</strong> @Model.TotalPrice.ToString("C2")</p>
                </div>
            </div>

            <hr />

            <div class="row">
                <div class="col-12">
                    <h5>Tarih ve Saat</h5>
                    <p class="mb-1"><strong>Tarih:</strong> @Model.StartDateTime.ToString("dd.MM.yyyy dddd")</p>
                    <p class="mb-1"><strong>Başlangıç:</strong> @Model.StartDateTime.ToString("HH:mm")</p>
                    <p class="mb-0"><strong>Bitiş:</strong> @Model.EndDateTime.ToString("HH:mm")</p>
                </div>
            </div>
        </div>
        <div class="card-footer">
            <div class="alert alert-warning mb-3">
                <strong>Önemli:</strong> Randevunuz oluşturulduktan sonra antrenör tarafından onaylanması gerekmektedir. 
                Randevu durumunuzu "Randevularım" sayfasından takip edebilirsiniz.
            </div>

            <form asp-action="Create" method="post">
                @Html.AntiForgeryToken()
                <input type="hidden" name="trainerId" value="@Model.TrainerId" />
                <input type="hidden" name="serviceTypeId" value="@Model.ServiceTypeId" />
                <input type="hidden" name="startDateTime" value="@Model.StartDateTime.ToString("yyyy-MM-ddTHH:mm:ss")" />
                
                <div class="d-flex gap-2">
                    <a asp-action="SelectDateTime" 
                       asp-route-trainerId="@Model.TrainerId" 
                       asp-route-serviceTypeId="@Model.ServiceTypeId" 
                       class="btn btn-secondary">Geri</a>
                    <button type="submit" class="btn btn-success">Onayla ve Randevu Oluştur</button>
                </div>
            </form>
        </div>
    </div>
</div>
